{"ast":null,"code":"import { AShaderModel } from \"../material\";\nimport { AAppState, GetAppState } from \"../../base\";\nexport class ABasicShaderModel extends AShaderModel {\n  static async CreateModel(shaderName) {\n    if (shaderName === undefined) {\n      shaderName = \"basic\";\n    }\n    await AShaderModel.ShaderSourceLoaded(shaderName);\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return new this(shaderName, ...args);\n  }\n  CreateMaterial() {\n    let appState = GetAppState();\n    let mat = super.CreateMaterial();\n    function setAmbient() {\n      mat.setUniform('ambient', appState.getState(AAppState.AppStateDefaultKeys.AmbientLight));\n    }\n    setAmbient();\n    mat.subscribe(appState.addStateValueListener(AAppState.AppStateDefaultKeys.AmbientLight, () => {\n      setAmbient();\n    }), \"ambient_update\");\n    mat.setUniform('diffuse', 1.0);\n    return mat;\n  }\n}","map":{"version":3,"names":["AShaderModel","AAppState","GetAppState","ABasicShaderModel","CreateModel","shaderName","undefined","ShaderSourceLoaded","args","CreateMaterial","appState","mat","setAmbient","setUniform","getState","AppStateDefaultKeys","AmbientLight","subscribe","addStateValueListener"],"sources":["/Users/home/Desktop/cs4620-final-project/src/anigraph/rendering/shadermodels/ABasicShaderModel.ts"],"sourcesContent":["import {AShaderModel} from \"../material\";\nimport {AAppState, GetAppState} from \"../../base\";\n\nexport class ABasicShaderModel extends AShaderModel{\n    static async CreateModel(shaderName?:string, ...args:any[]){\n        if(shaderName === undefined){\n            shaderName = \"basic\";\n        }\n        await AShaderModel.ShaderSourceLoaded(shaderName);\n        return new this(shaderName, ...args);\n    }\n\n    CreateMaterial(...args:any[]){\n        let appState = GetAppState();\n        let mat = super.CreateMaterial();\n        function setAmbient(){\n            mat.setUniform('ambient', appState.getState(AAppState.AppStateDefaultKeys.AmbientLight));\n        }\n        setAmbient();\n        mat.subscribe(appState.addStateValueListener(AAppState.AppStateDefaultKeys.AmbientLight, ()=>{\n            setAmbient();\n        }), \"ambient_update\");\n\n        mat.setUniform('diffuse', 1.0);\n        return mat;\n    }\n}\n\n\n\n"],"mappings":"AAAA,SAAQA,YAAY,QAAO,aAAa;AACxC,SAAQC,SAAS,EAAEC,WAAW,QAAO,YAAY;AAEjD,OAAO,MAAMC,iBAAiB,SAASH,YAAY;EAC/C,aAAaI,WAAW,CAACC,UAAkB,EAAgB;IACvD,IAAGA,UAAU,KAAKC,SAAS,EAAC;MACxBD,UAAU,GAAG,OAAO;IACxB;IACA,MAAML,YAAY,CAACO,kBAAkB,CAACF,UAAU,CAAC;IAAC,kCAJNG,IAAI;MAAJA,IAAI;IAAA;IAKhD,OAAO,IAAI,IAAI,CAACH,UAAU,EAAE,GAAGG,IAAI,CAAC;EACxC;EAEAC,cAAc,GAAe;IACzB,IAAIC,QAAQ,GAAGR,WAAW,EAAE;IAC5B,IAAIS,GAAG,GAAG,KAAK,CAACF,cAAc,EAAE;IAChC,SAASG,UAAU,GAAE;MACjBD,GAAG,CAACE,UAAU,CAAC,SAAS,EAAEH,QAAQ,CAACI,QAAQ,CAACb,SAAS,CAACc,mBAAmB,CAACC,YAAY,CAAC,CAAC;IAC5F;IACAJ,UAAU,EAAE;IACZD,GAAG,CAACM,SAAS,CAACP,QAAQ,CAACQ,qBAAqB,CAACjB,SAAS,CAACc,mBAAmB,CAACC,YAAY,EAAE,MAAI;MACzFJ,UAAU,EAAE;IAChB,CAAC,CAAC,EAAE,gBAAgB,CAAC;IAErBD,GAAG,CAACE,UAAU,CAAC,SAAS,EAAE,GAAG,CAAC;IAC9B,OAAOF,GAAG;EACd;AACJ"},"metadata":{},"sourceType":"module"}