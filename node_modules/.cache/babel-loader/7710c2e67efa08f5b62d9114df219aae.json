{"ast":null,"code":"import { ANodeView } from \"../nodeView\";\nexport class ALightView extends ANodeView {\n  constructor() {\n    super(...arguments);\n    this._light = void 0;\n  }\n  get light() {\n    return this._light;\n  }\n  get model() {\n    return this._model;\n  }\n  update() {\n    this.light.intensity = this.model.intensity;\n    this.setTransform(this.model.transform);\n  }\n  setModelListeners() {\n    super.setModelListeners();\n    const self = this;\n    this.subscribe(this.model.addStateKeyListener(\"intensity\", () => {\n      self.light.intensity = self.model.intensity;\n    }), \"LIGHT_INTENSITY\");\n    this.subscribe(this.model.addStateKeyListener(\"color\", () => {\n      self.light.color = self.model.color.asThreeJS();\n    }), \"LIGHT_COLOR\");\n  }\n}","map":{"version":3,"names":["ANodeView","ALightView","_light","light","model","_model","update","intensity","setTransform","transform","setModelListeners","self","subscribe","addStateKeyListener","color","asThreeJS"],"sources":["/Users/home/Desktop/cs4620-final-project/src/anigraph/scene/lights/ALightView.ts"],"sourcesContent":["import * as THREE from \"three\";\nimport {ANodeView} from \"../nodeView\";\nimport {ALightModel} from \"./ALightModel\";\n\nexport abstract class ALightView extends ANodeView{\n    _light!:THREE.Light;\n    get light():THREE.Light{\n        return this._light;\n    }\n    get model():ALightModel{\n        return this._model as ALightModel;\n    }\n\n    update() {\n        this.light.intensity = this.model.intensity\n        this.setTransform(this.model.transform);\n    }\n\n    setModelListeners() {\n        super.setModelListeners();\n        const self = this;\n        this.subscribe(this.model.addStateKeyListener(\"intensity\", ()=>{\n            self.light.intensity = self.model.intensity;\n        }), \"LIGHT_INTENSITY\");\n        this.subscribe(this.model.addStateKeyListener(\"color\", ()=>{\n            self.light.color = self.model.color.asThreeJS();\n        }), \"LIGHT_COLOR\");\n    }\n}\n"],"mappings":"AACA,SAAQA,SAAS,QAAO,aAAa;AAGrC,OAAO,MAAeC,UAAU,SAASD,SAAS;EAAA;IAAA;IAAA,KAC9CE,MAAM;EAAA;EACN,IAAIC,KAAK,GAAc;IACnB,OAAO,IAAI,CAACD,MAAM;EACtB;EACA,IAAIE,KAAK,GAAc;IACnB,OAAO,IAAI,CAACC,MAAM;EACtB;EAEAC,MAAM,GAAG;IACL,IAAI,CAACH,KAAK,CAACI,SAAS,GAAG,IAAI,CAACH,KAAK,CAACG,SAAS;IAC3C,IAAI,CAACC,YAAY,CAAC,IAAI,CAACJ,KAAK,CAACK,SAAS,CAAC;EAC3C;EAEAC,iBAAiB,GAAG;IAChB,KAAK,CAACA,iBAAiB,EAAE;IACzB,MAAMC,IAAI,GAAG,IAAI;IACjB,IAAI,CAACC,SAAS,CAAC,IAAI,CAACR,KAAK,CAACS,mBAAmB,CAAC,WAAW,EAAE,MAAI;MAC3DF,IAAI,CAACR,KAAK,CAACI,SAAS,GAAGI,IAAI,CAACP,KAAK,CAACG,SAAS;IAC/C,CAAC,CAAC,EAAE,iBAAiB,CAAC;IACtB,IAAI,CAACK,SAAS,CAAC,IAAI,CAACR,KAAK,CAACS,mBAAmB,CAAC,OAAO,EAAE,MAAI;MACvDF,IAAI,CAACR,KAAK,CAACW,KAAK,GAAGH,IAAI,CAACP,KAAK,CAACU,KAAK,CAACC,SAAS,EAAE;IACnD,CAAC,CAAC,EAAE,aAAa,CAAC;EACtB;AACJ"},"metadata":{},"sourceType":"module"}