{"ast":null,"code":"import { AGraphicObject } from \"../graphicobject\";\nimport { Mat4 } from \"../../math\";\nexport class AInstancedGraphicBase extends AGraphicObject {\n  constructor() {\n    super(...arguments);\n    this._mesh = void 0;\n    this._geometry = void 0;\n    this._material = void 0;\n  }\n  get mesh() {\n    return this._mesh;\n  }\n  /** Get set count */\n  set count(value) {\n    this.mesh.count = value;\n  }\n  get count() {\n    return this.mesh.count;\n  }\n\n  /**\n   * Set the color of the instance in index `index`\n   * @param index\n   * @param color\n   */\n  setColorAt(index, color) {\n    this.mesh.setColorAt(index, color.asThreeJS());\n  }\n\n  /**\n   * Set the transformation matrix of the instance in index `index`\n   * @param index\n   * @param m\n   */\n  setMatrixAt(index, m) {\n    if (m instanceof Mat4) {\n      this.mesh.setMatrixAt(index, m.asThreeJS());\n    } else {\n      this.mesh.setMatrixAt(index, Mat4.From2DMat3(m).asThreeJS());\n    }\n  }\n  dispose() {\n    super.dispose();\n    if (this._geometry) {\n      this._geometry.dispose();\n    }\n    if (this._material) {\n      this._material.dispose();\n    }\n  }\n  setUsage(usage) {\n    // mesh.instanceMatrix.setUsage( THREE.DynamicDrawUsage );\n    this.mesh.instanceMatrix.setUsage(usage);\n  }\n  get geometery() {\n    return this._geometry;\n  }\n  get material() {\n    return this._material;\n  }\n}","map":{"version":3,"names":["AGraphicObject","Mat4","AInstancedGraphicBase","_mesh","_geometry","_material","mesh","count","value","setColorAt","index","color","asThreeJS","setMatrixAt","m","From2DMat3","dispose","setUsage","usage","instanceMatrix","geometery","material"],"sources":["/Users/home/Desktop/College/Fall 2022/CS_4620/cs4620-final-project/src/anigraph/rendering/graphicelements/AInstancedGraphicBase.ts"],"sourcesContent":["import {AGraphicObject} from \"../graphicobject\";\nimport {Color, Mat3, Mat4} from \"../../math\";\n\nexport abstract class AInstancedGraphicBase extends AGraphicObject{\n    protected abstract _mesh:THREE.InstancedMesh;\n    protected abstract _geometry:THREE.BufferGeometry;\n    protected abstract _material:THREE.Material;\n    get mesh(){return this._mesh;}\n    /** Get set count */\n    set count(value:number){this.mesh.count=value;}\n    get count(){\n        return this.mesh.count;\n    }\n\n\n    /**\n     * Set the color of the instance in index `index`\n     * @param index\n     * @param color\n     */\n    setColorAt(index:number, color:Color){\n        this.mesh.setColorAt(index, color.asThreeJS());\n    }\n\n    /**\n     * Set the transformation matrix of the instance in index `index`\n     * @param index\n     * @param m\n     */\n    setMatrixAt(index:number, m:Mat4|Mat3){\n        if(m instanceof Mat4){\n            this.mesh.setMatrixAt(index, m.asThreeJS());\n        }else{\n            this.mesh.setMatrixAt(index, Mat4.From2DMat3(m).asThreeJS());\n        }\n    }\n\n    dispose(){\n        super.dispose();\n        if(this._geometry){\n            this._geometry.dispose();\n        }\n        if(this._material){\n            this._material.dispose();\n        }\n    }\n\n    setUsage(usage:THREE.Usage){\n        // mesh.instanceMatrix.setUsage( THREE.DynamicDrawUsage );\n        this.mesh.instanceMatrix.setUsage( usage );\n    }\n\n    get geometery(){return this._geometry;}\n    get material(){return this._material;}\n}\n"],"mappings":"AAAA,SAAQA,cAAc,QAAO,kBAAkB;AAC/C,SAAqBC,IAAI,QAAO,YAAY;AAE5C,OAAO,MAAeC,qBAAqB,SAASF,cAAc;EAAA;IAAA;IAAA,KAC3CG,KAAK;IAAA,KACLC,SAAS;IAAA,KACTC,SAAS;EAAA;EAC5B,IAAIC,IAAI,GAAE;IAAC,OAAO,IAAI,CAACH,KAAK;EAAC;EAC7B;EACA,IAAII,KAAK,CAACC,KAAY,EAAC;IAAC,IAAI,CAACF,IAAI,CAACC,KAAK,GAACC,KAAK;EAAC;EAC9C,IAAID,KAAK,GAAE;IACP,OAAO,IAAI,CAACD,IAAI,CAACC,KAAK;EAC1B;;EAGA;AACJ;AACA;AACA;AACA;EACIE,UAAU,CAACC,KAAY,EAAEC,KAAW,EAAC;IACjC,IAAI,CAACL,IAAI,CAACG,UAAU,CAACC,KAAK,EAAEC,KAAK,CAACC,SAAS,EAAE,CAAC;EAClD;;EAEA;AACJ;AACA;AACA;AACA;EACIC,WAAW,CAACH,KAAY,EAAEI,CAAW,EAAC;IAClC,IAAGA,CAAC,YAAYb,IAAI,EAAC;MACjB,IAAI,CAACK,IAAI,CAACO,WAAW,CAACH,KAAK,EAAEI,CAAC,CAACF,SAAS,EAAE,CAAC;IAC/C,CAAC,MAAI;MACD,IAAI,CAACN,IAAI,CAACO,WAAW,CAACH,KAAK,EAAET,IAAI,CAACc,UAAU,CAACD,CAAC,CAAC,CAACF,SAAS,EAAE,CAAC;IAChE;EACJ;EAEAI,OAAO,GAAE;IACL,KAAK,CAACA,OAAO,EAAE;IACf,IAAG,IAAI,CAACZ,SAAS,EAAC;MACd,IAAI,CAACA,SAAS,CAACY,OAAO,EAAE;IAC5B;IACA,IAAG,IAAI,CAACX,SAAS,EAAC;MACd,IAAI,CAACA,SAAS,CAACW,OAAO,EAAE;IAC5B;EACJ;EAEAC,QAAQ,CAACC,KAAiB,EAAC;IACvB;IACA,IAAI,CAACZ,IAAI,CAACa,cAAc,CAACF,QAAQ,CAAEC,KAAK,CAAE;EAC9C;EAEA,IAAIE,SAAS,GAAE;IAAC,OAAO,IAAI,CAAChB,SAAS;EAAC;EACtC,IAAIiB,QAAQ,GAAE;IAAC,OAAO,IAAI,CAAChB,SAAS;EAAC;AACzC"},"metadata":{},"sourceType":"module"}