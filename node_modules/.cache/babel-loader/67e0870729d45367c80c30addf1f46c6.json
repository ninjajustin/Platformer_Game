{"ast":null,"code":"var _jsxFileName = \"/Users/home/Desktop/cs4620-final-project/src/app/main/Editor/Canvas.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport TerrainBlock from \"./TerrainBlock\";\nimport PlayerBlock from \"./PlayerBlock\";\nimport Checkpoint from \"./Checkpoint\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Subcanvas = p => {\n  _s();\n  const grids = [];\n  for (let i = -50000 + 50; i <= 50000 - 50; i += 50) {\n    grids.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vertical-grid grid\" + (i == 0 ? \" axis\" : \"\"),\n      style: {\n        left: `${i + 50000}px`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 16\n    }, this));\n    grids.push( /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"horizontal-grid grid\" + (i == 0 ? \" axis\" : \"\"),\n      style: {\n        top: `${i + 50000}px`\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 16\n    }, this));\n  }\n  const inCreation = useRef(false);\n  const startX = useRef(-999);\n  const startY = useRef(-999);\n  const [newX, setNewX] = useState(0);\n  const [newY, setNewY] = useState(0);\n  const [newWidth, setNewWidth] = useState(0);\n  const [newHeight, setNewHeight] = useState(0);\n  const dragStart = useCallback(evt => {\n    if (!evt.ctrlKey || p.movePlayer) return;\n    evt.stopPropagation();\n    inCreation.current = true;\n    const rect = evt.currentTarget.getBoundingClientRect();\n    const divX = (evt.clientX - rect.left) / p.scale - 50000;\n    const divY = 50000 - (evt.clientY - rect.top) / p.scale;\n    const divXToGrid = Math.round(divX / 25) * 25;\n    const divYToGrid = Math.round(divY / 25) * 25;\n    startX.current = divXToGrid / 50;\n    startY.current = divYToGrid / 50;\n    setNewX(divXToGrid / 50);\n    setNewY(divYToGrid / 50);\n    setNewWidth(.5);\n    setNewWidth(.5);\n  }, [p.scale]);\n  const dragOver = evt => {\n    if (!inCreation.current) return;\n    const rect = evt.currentTarget.getBoundingClientRect();\n    const divX = (evt.clientX - rect.left) / p.scale - 50000;\n    const divY = 50000 - (evt.clientY - rect.top) / p.scale;\n    const divXToGrid = Math.round(divX / 25) * 25;\n    const divYToGrid = Math.round(divY / 25) * 25;\n    const worldX = divXToGrid / 50;\n    const worldY = divYToGrid / 50;\n    let width = Math.abs(worldX - startX.current);\n    let height = Math.abs(worldY - startY.current);\n    if (width == 0) width = .5;\n    if (height == 0) height = .5;\n    if (worldX < startX.current) {\n      setNewX(startX.current - width);\n    } else {\n      setNewX(startX.current);\n    }\n    setNewWidth(width);\n    if (worldY < startY.current) {\n      setNewY(startY.current - height);\n    } else {\n      setNewY(startY.current);\n    }\n    setNewHeight(height);\n  };\n  const dragEnd = () => {\n    if (!inCreation.current) return;\n    inCreation.current = false;\n    const terrains = p.level.terrains.slice();\n    terrains.push([newX, newY, newWidth, newHeight]);\n    p.updateLevel({\n      ...p.level,\n      terrains\n    });\n    setNewWidth(0);\n    setNewHeight(0);\n  };\n  const [inCheckpointCreation, setInCheckpointCreation] = useState(false);\n  const [checkpointX, setCheckpointX] = useState(-999);\n  const dbchandle = useCallback(evt => {\n    const rect = evt.currentTarget.getBoundingClientRect();\n    const asd = evt.clientX;\n    const divX = (evt.clientX - rect.left) / p.scale - 50000;\n    const divY = 50000 - (evt.clientY - rect.top) / p.scale;\n    const divXToGrid = Math.round(divX / 25) * 25;\n    const divYToGrid = Math.round(divY / 25) * 25;\n    const worldX = divXToGrid / 50;\n    const worldY = divYToGrid / 50;\n    debugger;\n    if (!p.movePlayer && !inCheckpointCreation) {\n      const cpind = p.level.checkpoints.findIndex(c => {\n        return c[0] <= worldX && worldX <= c[0] + .5;\n      });\n      if (cpind >= 0) {\n        const cp = p.level.checkpoints.slice();\n        cp.splice(cpind, 1);\n        p.updateLevel({\n          ...p.level,\n          checkpoints: cp\n        });\n        return;\n      }\n      p.informCheckpointPlayer();\n      setInCheckpointCreation(true);\n      setCheckpointX(worldX);\n    } else if (inCheckpointCreation) {\n      p.updateLevel({\n        ...p.level,\n        checkpoints: [...p.level.checkpoints, [checkpointX, [worldX, worldY]]]\n      });\n      p.leaveCheckpointPlayer();\n      setInCheckpointCreation(false);\n    } else if (p.movePlayer) {\n      p.updateLevel({\n        ...p.level,\n        player: [worldX, worldY]\n      });\n      p.leaveMovePlayer();\n    }\n  }, [checkpointX, inCheckpointCreation, p.scale, p.movePlayer, p.level.checkpoints]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor-canvas\",\n    onDoubleClick: dbchandle,\n    onPointerDown: dragStart,\n    onPointerMove: dragOver,\n    onPointerUp: dragEnd,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid-container\" + (p.hideGrid ? \" noshow\" : \"\"),\n      children: grids\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"death-area\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"terrains\" + (p.movePlayer || inCheckpointCreation ? \" no-interact\" : \"\"),\n      children: p.level.terrains.map((level, ind) => /*#__PURE__*/_jsxDEV(TerrainBlock, {\n        deleteRequest: () => {\n          const terrains = p.level.terrains.slice();\n          terrains.splice(ind, 1);\n          p.updateLevel({\n            ...p.level,\n            terrains\n          });\n        },\n        x: level[0],\n        y: level[1],\n        width: level[2],\n        height: level[3]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this), p.level.checkpoints.map((_ref, ind) => {\n      let [x, _] = _ref;\n      return /*#__PURE__*/_jsxDEV(Checkpoint, {\n        x: x\n      }, ind, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this);\n    }), inCheckpointCreation && /*#__PURE__*/_jsxDEV(Checkpoint, {\n      x: checkpointX\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 32\n    }, this), /*#__PURE__*/_jsxDEV(TerrainBlock, {\n      deleteRequest: () => {},\n      x: newX,\n      y: newY,\n      width: newWidth,\n      height: newHeight\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PlayerBlock, {\n      x: p.level.player[0],\n      y: p.level.player[1]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), p.level.checkpoints.map((_ref2, ind) => {\n      let [_, [px, py]] = _ref2;\n      return /*#__PURE__*/_jsxDEV(PlayerBlock, {\n        x: px,\n        y: py\n      }, ind, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 5\n  }, this);\n};\n_s(Subcanvas, \"aQE6GIpZoKfS5OENI+dxQGo9b3k=\");\n_c = Subcanvas;\nconst Canvas = p => {\n  _s2();\n  const lastX = useRef(-999);\n  const lastY = useRef(-999);\n  const [viewX, setViewX] = useState(-49950);\n  const [viewY, setViewY] = useState(-49600);\n  const [scale, setScale] = useState(1);\n  useEffect(() => {\n    setViewX(-49950);\n    setViewY(-49600);\n    setScale(1);\n  }, [p.viewSeed]);\n  const dragStart = evt => {\n    if (evt.ctrlKey) return;\n    lastX.current = evt.clientX;\n    lastY.current = evt.clientY;\n  };\n  const dragOver = evt => {\n    if (lastX.current === -999) return;\n    const [dx, dy] = [evt.clientX - lastX.current, evt.clientY - lastY.current];\n    lastX.current = evt.clientX;\n    lastY.current = evt.clientY;\n    setViewX(v => v + dx);\n    setViewY(v => v + dy);\n  };\n  const dragEnd = () => {\n    lastX.current = -999;\n    lastY.current = -999;\n  };\n  const wheel = evt => {\n    const down = evt.deltaY > 0;\n    if (!down) {\n      setScale(s => Math.min(s * 1.1, 2));\n    } else {\n      setScale(s => Math.max(.2, s * 0.9));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      transform: `translateX(${viewX}px) translateY(${viewY}px) scale(${scale})`\n    },\n    onPointerOut: dragEnd,\n    onPointerDown: dragStart,\n    onPointerMove: dragOver,\n    onPointerUp: dragEnd,\n    onWheel: wheel,\n    className: \"canvas-container\",\n    children: /*#__PURE__*/_jsxDEV(Subcanvas, {\n      hideGrid: scale < 0.62,\n      level: p.level,\n      leaveMovePlayer: p.leaveMovePlayer,\n      movePlayer: p.movePlayer,\n      updateLevel: p.updateLevel,\n      scale: scale,\n      informCheckpointPlayer: p.informCheckpointPlayer,\n      leaveCheckpointPlayer: p.leaveCheckpointPlayer\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n};\n_s2(Canvas, \"A0q6rsbH8QCx45ZojRCNxksZYds=\");\n_c2 = Canvas;\nexport default Canvas;\nvar _c, _c2;\n$RefreshReg$(_c, \"Subcanvas\");\n$RefreshReg$(_c2, \"Canvas\");","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","TerrainBlock","PlayerBlock","Checkpoint","Subcanvas","p","grids","i","push","left","top","inCreation","startX","startY","newX","setNewX","newY","setNewY","newWidth","setNewWidth","newHeight","setNewHeight","dragStart","evt","ctrlKey","movePlayer","stopPropagation","current","rect","currentTarget","getBoundingClientRect","divX","clientX","scale","divY","clientY","divXToGrid","Math","round","divYToGrid","dragOver","worldX","worldY","width","abs","height","dragEnd","terrains","level","slice","updateLevel","inCheckpointCreation","setInCheckpointCreation","checkpointX","setCheckpointX","dbchandle","asd","cpind","checkpoints","findIndex","c","cp","splice","informCheckpointPlayer","leaveCheckpointPlayer","player","leaveMovePlayer","hideGrid","map","ind","x","_","px","py","Canvas","lastX","lastY","viewX","setViewX","viewY","setViewY","setScale","viewSeed","dx","dy","v","wheel","down","deltaY","s","min","max","transform"],"sources":["/Users/home/Desktop/cs4620-final-project/src/app/main/Editor/Canvas.tsx"],"sourcesContent":["import React, {useCallback, useEffect, useRef, useState, WheelEvent} from \"react\";\r\nimport {LevelDefinition} from \"../../Backend/Level\";\r\nimport TerrainBlock from \"./TerrainBlock\";\r\nimport PlayerBlock from \"./PlayerBlock\";\r\nimport Checkpoint from \"./Checkpoint\";\r\n\r\ntype CanvasProps = {\r\n  level: LevelDefinition;\r\n  updateLevel: (level: LevelDefinition) => void;\r\n  viewSeed?: number;\r\n  movePlayer: boolean;\r\n  leaveMovePlayer: () => void;\r\n  informCheckpointPlayer: () => void;\r\n  leaveCheckpointPlayer: () => void;\r\n};\r\n\r\ntype SubcanvasProps = CanvasProps & {\r\n  hideGrid: boolean;\r\n  scale: number;\r\n};\r\n\r\nconst Subcanvas: React.ComponentType<SubcanvasProps> = (p) => {\r\n  const grids = [];\r\n  for (let i = -50000 + 50; i <= 50000 - 50; i += 50) {\r\n    grids.push(<div className={\"vertical-grid grid\" + (i == 0 ? \" axis\" : \"\")} style={{left: `${i + 50000}px`}}/>);\r\n    grids.push(<div className={\"horizontal-grid grid\" + (i == 0 ? \" axis\" : \"\")} style={{top: `${i + 50000}px`}}/>);\r\n  }\r\n\r\n  const inCreation = useRef<boolean>(false);\r\n  const startX = useRef<number>(-999);\r\n  const startY = useRef<number>(-999);\r\n  const [newX, setNewX] = useState<number>(0);\r\n  const [newY, setNewY] = useState<number>(0);\r\n  const [newWidth, setNewWidth] = useState<number>(0);\r\n  const [newHeight, setNewHeight] = useState<number>(0);\r\n  const dragStart = useCallback((evt) => {\r\n    if (!evt.ctrlKey || p.movePlayer) return;\r\n    evt.stopPropagation();\r\n    inCreation.current = true;\r\n    const rect = evt.currentTarget.getBoundingClientRect();\r\n    const divX = (evt.clientX - rect.left) / p.scale - 50000;\r\n    const divY = 50000 - (evt.clientY - rect.top) / p.scale;\r\n    const divXToGrid = Math.round(divX / 25) * 25;\r\n    const divYToGrid = Math.round(divY / 25) * 25;\r\n    startX.current = divXToGrid / 50;\r\n    startY.current = divYToGrid / 50;\r\n    setNewX(divXToGrid / 50);\r\n    setNewY(divYToGrid / 50);\r\n    setNewWidth(.5);\r\n    setNewWidth(.5);\r\n  }, [p.scale]);\r\n  const dragOver = (evt) => {\r\n    if (!inCreation.current) return;\r\n    const rect = evt.currentTarget.getBoundingClientRect();\r\n    const divX = (evt.clientX - rect.left) / p.scale - 50000;\r\n    const divY = 50000 - (evt.clientY - rect.top) / p.scale;\r\n    const divXToGrid = Math.round(divX / 25) * 25;\r\n    const divYToGrid = Math.round(divY / 25) * 25;\r\n    const worldX = divXToGrid / 50;\r\n    const worldY = divYToGrid / 50;\r\n    let width = Math.abs(worldX - startX.current);\r\n    let height = Math.abs(worldY - startY.current);\r\n    if (width == 0) width = .5;\r\n    if (height == 0) height = .5;\r\n    if (worldX < startX.current) {\r\n      setNewX(startX.current - width);\r\n    } else {\r\n      setNewX(startX.current);\r\n    }\r\n    setNewWidth(width);\r\n    if (worldY < startY.current) {\r\n      setNewY(startY.current - height);\r\n    } else {\r\n      setNewY(startY.current);\r\n    }\r\n    setNewHeight(height);\r\n  };\r\n  const dragEnd = () => {\r\n    if (!inCreation.current) return;\r\n    inCreation.current = false;\r\n    const terrains = p.level.terrains.slice();\r\n    terrains.push([newX, newY, newWidth, newHeight]);\r\n    p.updateLevel({...p.level, terrains})\r\n    setNewWidth(0);\r\n    setNewHeight(0);\r\n  };\r\n\r\n  const [inCheckpointCreation, setInCheckpointCreation] = useState<boolean>(false);\r\n  const [checkpointX, setCheckpointX] = useState<number>(-999);\r\n\r\n  const dbchandle = useCallback((evt) => {\r\n    const rect = evt.currentTarget.getBoundingClientRect();\r\n    const asd = evt.clientX;\r\n    const divX = (evt.clientX - rect.left) / p.scale - 50000;\r\n    const divY = 50000 - (evt.clientY - rect.top) / p.scale;\r\n    const divXToGrid = Math.round(divX / 25) * 25;\r\n    const divYToGrid = Math.round(divY / 25) * 25;\r\n    const worldX = divXToGrid / 50;\r\n    const worldY = divYToGrid / 50;\r\n    debugger;\r\n    if (!p.movePlayer && !inCheckpointCreation) {\r\n      const cpind = p.level.checkpoints.findIndex((c) => {\r\n        return c[0] <= worldX && worldX <= c[0] + .5;\r\n      });\r\n      if (cpind >= 0) {\r\n        const cp = p.level.checkpoints.slice();\r\n        cp.splice(cpind, 1);\r\n        p.updateLevel({...p.level, checkpoints: cp});\r\n        return;\r\n      }\r\n      p.informCheckpointPlayer();\r\n      setInCheckpointCreation(true);\r\n      setCheckpointX(worldX);\r\n    } else if (inCheckpointCreation) {\r\n      p.updateLevel({\r\n        ...p.level, checkpoints: [...p.level.checkpoints,\r\n          [checkpointX, [worldX, worldY]]\r\n        ] as [number, [number, number]][]\r\n      });\r\n      p.leaveCheckpointPlayer();\r\n      setInCheckpointCreation(false);\r\n    } else if (p.movePlayer) {\r\n      p.updateLevel({...p.level, player: [worldX, worldY]});\r\n      p.leaveMovePlayer();\r\n    }\r\n  }, [checkpointX, inCheckpointCreation, p.scale, p.movePlayer, p.level.checkpoints]);\r\n\r\n  return (\r\n    <div\r\n      className={\"editor-canvas\"}\r\n      onDoubleClick={dbchandle}\r\n      onPointerDown={dragStart} onPointerMove={dragOver} onPointerUp={dragEnd}>\r\n      <div className={\"grid-container\" + (p.hideGrid ? \" noshow\" : \"\")}>\r\n        {grids}\r\n      </div>\r\n      <div className={\"death-area\"}/>\r\n      <div className={\"terrains\" + (p.movePlayer || inCheckpointCreation ? \" no-interact\" : \"\")}>\r\n        {p.level.terrains.map((level, ind) => (\r\n          <TerrainBlock\r\n            deleteRequest={() => {\r\n              const terrains = p.level.terrains.slice();\r\n              terrains.splice(ind, 1);\r\n              p.updateLevel({\r\n                ...p.level,\r\n                terrains\r\n              });\r\n            }}\r\n            x={level[0]} y={level[1]} width={level[2]} height={level[3]}/>\r\n        ))}\r\n      </div>\r\n      {p.level.checkpoints.map(([x, _], ind) => (\r\n        <Checkpoint x={x} key={ind}/>\r\n      ))}\r\n      {inCheckpointCreation && <Checkpoint x={checkpointX}/>}\r\n      <TerrainBlock\r\n        deleteRequest={() => {\r\n        }}\r\n        x={newX} y={newY} width={newWidth} height={newHeight}/>\r\n      <PlayerBlock x={p.level.player[0]} y={p.level.player[1]}/>\r\n      {p.level.checkpoints.map(([_, [px, py]], ind) => (\r\n        <PlayerBlock x={px} y={py} key={ind}/>\r\n      ))}\r\n    </div>\r\n  )\r\n};\r\n\r\nconst Canvas: React.ComponentType<CanvasProps> = (p) => {\r\n  const lastX = useRef<number>(-999);\r\n  const lastY = useRef<number>(-999);\r\n  const [viewX, setViewX] = useState<number>(-49950);\r\n  const [viewY, setViewY] = useState<number>(-49600);\r\n  const [scale, setScale] = useState<number>(1);\r\n\r\n  useEffect(() => {\r\n    setViewX(-49950);\r\n    setViewY(-49600);\r\n    setScale(1);\r\n  }, [p.viewSeed]);\r\n  const dragStart = (evt) => {\r\n    if (evt.ctrlKey) return;\r\n    lastX.current = evt.clientX;\r\n    lastY.current = evt.clientY;\r\n  };\r\n  const dragOver = (evt) => {\r\n    if (lastX.current === -999) return;\r\n    const [dx, dy] = [evt.clientX - lastX.current, evt.clientY - lastY.current];\r\n    lastX.current = evt.clientX;\r\n    lastY.current = evt.clientY;\r\n    setViewX((v) => v + dx);\r\n    setViewY((v) => v + dy);\r\n  };\r\n  const dragEnd = () => {\r\n    lastX.current = -999;\r\n    lastY.current = -999;\r\n  };\r\n\r\n  const wheel = (evt: WheelEvent) => {\r\n    const down = evt.deltaY > 0;\r\n    if (!down) {\r\n      setScale(s => Math.min(s * 1.1, 2));\r\n    } else {\r\n      setScale(s => Math.max(.2, s * 0.9));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{transform: `translateX(${viewX}px) translateY(${viewY}px) scale(${scale})`}}\r\n      onPointerOut={dragEnd}\r\n      onPointerDown={dragStart} onPointerMove={dragOver} onPointerUp={dragEnd}\r\n      onWheel={wheel}\r\n      className={\"canvas-container\"}>\r\n      <Subcanvas hideGrid={scale < 0.62} level={p.level}\r\n                 leaveMovePlayer={p.leaveMovePlayer} movePlayer={p.movePlayer} updateLevel={p.updateLevel}\r\n                 scale={scale} informCheckpointPlayer={p.informCheckpointPlayer}\r\n                 leaveCheckpointPlayer={p.leaveCheckpointPlayer}/>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default Canvas;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}