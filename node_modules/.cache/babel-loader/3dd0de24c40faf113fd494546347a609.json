{"ast":null,"code":"var _dec, _class;\nimport * as THREE from \"three\";\nimport { AGraphicObject } from \"./AGraphicObject\";\nimport { ASerializable } from \"../../base\";\nexport let AGraphicGroup = (_dec = ASerializable(\"AGraphicGroup\"), _dec(_class = class AGraphicGroup extends AGraphicObject {\n  get threejs() {\n    return this._threejs;\n  }\n  constructor(threejsObject) {\n    super();\n    // this._threejs = new THREE.Group();\n    this._threejs = void 0;\n    this.members = [];\n    if (threejsObject) {\n      this._threejs = threejsObject;\n    } else {\n      this._threejs = new THREE.Group();\n    }\n    this._threejs.matrixAutoUpdate = false;\n    if (this.threejs) {\n      if (this.threejs.name == \"\") {\n        this.setObject3DName(this.serializationLabel);\n      }\n    }\n  }\n  mapOverMembers(fn) {\n    var rvals = [];\n    for (let member of this.members) {\n      rvals.push(fn(member));\n    }\n    return rvals;\n  }\n  add(toAdd) {\n    this.members.push(toAdd);\n    super.add(toAdd);\n  }\n  remove(toRemove) {\n    for (let c = 0; c < this.members.length; c++) {\n      if (this.members[c].uid === toRemove.uid) {\n        this.members.splice(c, 1);\n        // this.onExit(toRemove);\n        // this.threejs.remove(toRemove.threejs);\n        super.remove(toRemove);\n        return;\n      }\n    }\n    throw new Error(`Tried to remove render object ${toRemove} that is not a member of ${this}`);\n  }\n  dispose() {\n    this.mapOverMembers(m => {\n      m.dispose();\n    });\n    super.dispose();\n  }\n}) || _class);\n\n// constructor() {\n//     super();\n//     this.members=new ASelection<AGraphicObject>(\n//         [],\n//         (o:AGraphicObject)=>{\n//             this.threejs.add(o.threejs);\n//         },\n//         (o:AGraphicObject)=>{return;},\n//         (o:AGraphicObject)=>{\n//             this.threejs.remove(o.threejs);\n//         }\n//     );\n// }\n// dispose(){\n//     super.dispose();\n//     let memberList = this.members.items();\n//     this.members.set();\n//     for(let m of memberList){\n//         m.dispose();\n//     }\n// }\n//\n// add(obj:AGraphicObject){\n//     this.members.push(obj);\n//     this.threejs.add(obj.threejs);\n// }\n//\n// remove(obj:AGraphicObject){\n//\n// }","map":{"version":3,"names":["THREE","AGraphicObject","ASerializable","AGraphicGroup","threejs","_threejs","constructor","threejsObject","members","Group","matrixAutoUpdate","name","setObject3DName","serializationLabel","mapOverMembers","fn","rvals","member","push","add","toAdd","remove","toRemove","c","length","uid","splice","Error","dispose","m"],"sources":["/Users/home/Desktop/cs4620-final-project/src/anigraph/rendering/graphicobject/AGraphicGroup.ts"],"sourcesContent":["import * as THREE from \"three\";\nimport {AGraphicObject} from \"./AGraphicObject\";\nimport {ASerializable} from \"../../base\";\n\n\n@ASerializable(\"AGraphicGroup\")\nexport class AGraphicGroup extends AGraphicObject{\n    protected _threejs:THREE.Object3D;\n\n    get threejs(){\n        return this._threejs;\n    }\n    protected members:AGraphicObject[]=[];\n    constructor(threejsObject?:THREE.Object3D) {\n        super();\n        // this._threejs = new THREE.Group();\n        if(threejsObject){\n            this._threejs = threejsObject;\n        }else{\n            this._threejs = new THREE.Group();\n        }\n        this._threejs.matrixAutoUpdate=false;\n        if(this.threejs){\n            if(this.threejs.name ==\"\"){\n                this.setObject3DName(this.serializationLabel);\n            }\n        }\n    }\n\n    mapOverMembers(fn:(child:AGraphicObject)=>any[]|void){\n        var rvals = [];\n        for(let member of this.members){\n            rvals.push(fn(member));\n        }\n        return rvals;\n    }\n\n    add(toAdd:AGraphicObject){\n        this.members.push(toAdd);\n        super.add(toAdd);\n    }\n\n    remove(toRemove:AGraphicObject){\n        for(let c=0;c<this.members.length;c++){\n            if(this.members[c].uid===toRemove.uid){\n                this.members.splice(c,1);\n                // this.onExit(toRemove);\n                // this.threejs.remove(toRemove.threejs);\n                super.remove(toRemove);\n                return;\n            }\n        }\n        throw new Error(`Tried to remove render object ${toRemove} that is not a member of ${this}`);\n    }\n\n\n\n    dispose() {\n        this.mapOverMembers((m:AGraphicObject)=>{m.dispose();});\n        super.dispose();\n    }\n\n}\n\n\n\n// constructor() {\n//     super();\n//     this.members=new ASelection<AGraphicObject>(\n//         [],\n//         (o:AGraphicObject)=>{\n//             this.threejs.add(o.threejs);\n//         },\n//         (o:AGraphicObject)=>{return;},\n//         (o:AGraphicObject)=>{\n//             this.threejs.remove(o.threejs);\n//         }\n//     );\n// }\n// dispose(){\n//     super.dispose();\n//     let memberList = this.members.items();\n//     this.members.set();\n//     for(let m of memberList){\n//         m.dispose();\n//     }\n// }\n//\n// add(obj:AGraphicObject){\n//     this.members.push(obj);\n//     this.threejs.add(obj.threejs);\n// }\n//\n// remove(obj:AGraphicObject){\n//\n// }\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAAQC,cAAc,QAAO,kBAAkB;AAC/C,SAAQC,aAAa,QAAO,YAAY;AAGxC,WACaC,aAAa,WADzBD,aAAa,CAAC,eAAe,CAAC,gBAA/B,MACaC,aAAa,SAASF,cAAc;EAG7C,IAAIG,OAAO,GAAE;IACT,OAAO,IAAI,CAACC,QAAQ;EACxB;EAEAC,WAAW,CAACC,aAA6B,EAAE;IACvC,KAAK,EAAE;IACP;IAAA,KARMF,QAAQ;IAAA,KAKRG,OAAO,GAAkB,EAAE;IAIjC,IAAGD,aAAa,EAAC;MACb,IAAI,CAACF,QAAQ,GAAGE,aAAa;IACjC,CAAC,MAAI;MACD,IAAI,CAACF,QAAQ,GAAG,IAAIL,KAAK,CAACS,KAAK,EAAE;IACrC;IACA,IAAI,CAACJ,QAAQ,CAACK,gBAAgB,GAAC,KAAK;IACpC,IAAG,IAAI,CAACN,OAAO,EAAC;MACZ,IAAG,IAAI,CAACA,OAAO,CAACO,IAAI,IAAG,EAAE,EAAC;QACtB,IAAI,CAACC,eAAe,CAAC,IAAI,CAACC,kBAAkB,CAAC;MACjD;IACJ;EACJ;EAEAC,cAAc,CAACC,EAAqC,EAAC;IACjD,IAAIC,KAAK,GAAG,EAAE;IACd,KAAI,IAAIC,MAAM,IAAI,IAAI,CAACT,OAAO,EAAC;MAC3BQ,KAAK,CAACE,IAAI,CAACH,EAAE,CAACE,MAAM,CAAC,CAAC;IAC1B;IACA,OAAOD,KAAK;EAChB;EAEAG,GAAG,CAACC,KAAoB,EAAC;IACrB,IAAI,CAACZ,OAAO,CAACU,IAAI,CAACE,KAAK,CAAC;IACxB,KAAK,CAACD,GAAG,CAACC,KAAK,CAAC;EACpB;EAEAC,MAAM,CAACC,QAAuB,EAAC;IAC3B,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAAC,IAAI,CAACf,OAAO,CAACgB,MAAM,EAACD,CAAC,EAAE,EAAC;MAClC,IAAG,IAAI,CAACf,OAAO,CAACe,CAAC,CAAC,CAACE,GAAG,KAAGH,QAAQ,CAACG,GAAG,EAAC;QAClC,IAAI,CAACjB,OAAO,CAACkB,MAAM,CAACH,CAAC,EAAC,CAAC,CAAC;QACxB;QACA;QACA,KAAK,CAACF,MAAM,CAACC,QAAQ,CAAC;QACtB;MACJ;IACJ;IACA,MAAM,IAAIK,KAAK,CAAE,iCAAgCL,QAAS,4BAA2B,IAAK,EAAC,CAAC;EAChG;EAIAM,OAAO,GAAG;IACN,IAAI,CAACd,cAAc,CAAEe,CAAgB,IAAG;MAACA,CAAC,CAACD,OAAO,EAAE;IAAC,CAAC,CAAC;IACvD,KAAK,CAACA,OAAO,EAAE;EACnB;AAEJ,CAAC;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}