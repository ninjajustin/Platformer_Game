{"ast":null,"code":"import { ACamera, ACameraClass, Mat4 } from \"../math\";\nimport * as THREE from \"three\";\nimport { AniGraphDefines } from \"../defines\";\nexport class ACameraElement extends ACamera {\n  get threejs() {\n    return this._threejs;\n  }\n  constructor() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (args.length > 0) {\n      if (args[0] instanceof THREE.Camera) {\n        super(args[0]);\n        this._threejs = void 0;\n        this._setThreeJS(args[0]);\n      } else {\n        super(args[0].getMat4(), args[1]);\n        this._threejs = void 0;\n        this._setThreeJS(this.CreateThreeJSCamera());\n      }\n    } else {\n      super();\n      this._threejs = void 0;\n      this._setThreeJS(this.CreateThreeJSCamera());\n    }\n    const self = this;\n    this.addPoseListener(pose => {\n      self.pose.assignTo(self.threejs.matrix);\n      self.projection.assignTo(self.threejs.projectionMatrix);\n      self.projection.getInverse().assignTo(self.threejs.projectionMatrixInverse);\n    });\n  }\n  _setThreeJS(camera) {\n    this._threejs = camera;\n    this._threejs.matrixAutoUpdate = false;\n  }\n  static CreatePerspectiveNearPlane(left, right, bottom, top, near, far) {\n    let camera = new this();\n    camera.setProjection(Mat4.PerspectiveFromNearPlane(left, right, bottom, top, near, far));\n    camera._projectionType = ACameraClass.PROJECTION_TYPE.PERSPECTIVE;\n    camera._setThreeJS(camera.CreateThreeJSCamera());\n    return camera;\n  }\n  static CreateOrthographic(left, right, bottom, top, near, far) {\n    let camera = new this();\n    camera.setProjection(Mat4.ProjectionOrtho(left, right, bottom, top, near !== null && near !== void 0 ? near : AniGraphDefines.DefaultZNear, far !== null && far !== void 0 ? far : AniGraphDefines.DefaultZFar));\n    camera._projectionType = ACameraClass.PROJECTION_TYPE.ORTHOGRAPHIC;\n    camera._setThreeJS(camera.CreateThreeJSCamera());\n    return camera;\n  }\n}","map":{"version":3,"names":["ACamera","ACameraClass","Mat4","THREE","AniGraphDefines","ACameraElement","threejs","_threejs","constructor","args","length","Camera","_setThreeJS","getMat4","CreateThreeJSCamera","self","addPoseListener","pose","assignTo","matrix","projection","projectionMatrix","getInverse","projectionMatrixInverse","camera","matrixAutoUpdate","CreatePerspectiveNearPlane","left","right","bottom","top","near","far","setProjection","PerspectiveFromNearPlane","_projectionType","PROJECTION_TYPE","PERSPECTIVE","CreateOrthographic","ProjectionOrtho","DefaultZNear","DefaultZFar","ORTHOGRAPHIC"],"sources":["/Users/home/Desktop/cs4620-final-project/src/anigraph/rendering/ACameraElement.ts"],"sourcesContent":["import {ACamera, ACameraClass, Mat4, TransformationInterface} from \"../math\";\nimport {HasThreeJSObject} from \"./graphicobject\";\nimport * as THREE from \"three\";\nimport {AniGraphDefines} from \"../defines\";\n\nexport class ACameraElement extends ACamera implements HasThreeJSObject{\n    protected _threejs!:THREE.Camera;\n    get threejs(){\n        return this._threejs;\n    }\n\n    constructor(threeCamera?:THREE.Camera);\n    constructor(pose?:TransformationInterface, projection?:Mat4);\n    constructor(...args:any[]){\n        if(args.length>0){\n            if(args[0] instanceof THREE.Camera){\n                super(args[0]);\n                this._setThreeJS(args[0]);\n            }else{\n                super((args[0] as TransformationInterface).getMat4(), args[1]);\n                this._setThreeJS(this.CreateThreeJSCamera());\n            }\n        }else{\n            super();\n            this._setThreeJS(this.CreateThreeJSCamera());\n        }\n        const self = this;\n        this.addPoseListener((pose)=>{\n            self.pose.assignTo(self.threejs.matrix);\n            self.projection.assignTo(self.threejs.projectionMatrix);\n            self.projection.getInverse().assignTo(self.threejs.projectionMatrixInverse);\n        })\n\n    }\n\n    _setThreeJS(camera:THREE.Camera){\n        this._threejs = camera;\n        this._threejs.matrixAutoUpdate=false;\n    }\n\n    static CreatePerspectiveNearPlane(left: number, right: number, bottom: number, top: number, near?: number, far?: number) {\n        let camera = new this();\n        camera.setProjection(Mat4.PerspectiveFromNearPlane(left, right, bottom, top, near, far));\n        camera._projectionType = ACameraClass.PROJECTION_TYPE.PERSPECTIVE;\n        camera._setThreeJS(camera.CreateThreeJSCamera());\n        return camera;\n    }\n\n    static CreateOrthographic(left:number, right:number, bottom:number, top:number, near?:number, far?:number) {\n        let camera = new this();\n        camera.setProjection(Mat4.ProjectionOrtho(left, right, bottom, top, near??AniGraphDefines.DefaultZNear, far??AniGraphDefines.DefaultZFar));\n        camera._projectionType = ACameraClass.PROJECTION_TYPE.ORTHOGRAPHIC;\n        camera._setThreeJS(camera.CreateThreeJSCamera());\n        return camera;\n    }\n\n\n\n}\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}