{"ast":null,"code":"import DefaultLevels from \"./DefaultLevels\";\nexport const CURR_VERSION = 3;\nexport const readLevels = () => {\n  if (typeof window.localStorage === \"undefined\") {\n    return DefaultLevels;\n  }\n  try {\n    const json = localStorage.getItem(\"savedLevels\");\n    const obj = JSON.parse(json);\n    const res = obj.filter(s => s.version === CURR_VERSION);\n    if (res.length === 0) {\n      return DefaultLevels;\n    } else {\n      return res;\n    }\n  } catch (e) {\n    return DefaultLevels;\n  }\n};\nexport const saveLevels = levels => {\n  if (typeof window.localStorage === \"undefined\") return;\n  localStorage.setItem(\"savedLevels\", JSON.stringify(levels));\n};","map":{"version":3,"names":["DefaultLevels","CURR_VERSION","readLevels","window","localStorage","json","getItem","obj","JSON","parse","res","filter","s","version","length","e","saveLevels","levels","setItem","stringify"],"sources":["/Users/home/Desktop/cs4620-final-project/src/app/Backend/LevelLoader.ts"],"sourcesContent":["import {LevelDefinition} from \"./Level\";\r\nimport DefaultLevels from \"./DefaultLevels\";\r\n\r\nexport const CURR_VERSION = 3;\r\n\r\nexport const readLevels = (): LevelDefinition[] => {\r\n  if (typeof window.localStorage === \"undefined\") {\r\n    return DefaultLevels;\r\n  }\r\n  try {\r\n    const json = localStorage.getItem(\"savedLevels\");\r\n    const obj: LevelDefinition[] = JSON.parse(json);\r\n    const res = obj.filter((s) => s.version === CURR_VERSION);\r\n    if (res.length === 0) {\r\n      return DefaultLevels;\r\n    } else {\r\n      return res;\r\n    }\r\n  } catch (e) {\r\n    return DefaultLevels;\r\n  }\r\n}\r\n\r\nexport const saveLevels = (levels: LevelDefinition[]) => {\r\n  if (typeof window.localStorage === \"undefined\") return;\r\n  localStorage.setItem(\"savedLevels\", JSON.stringify(levels));\r\n}\r\n"],"mappings":"AACA,OAAOA,aAAa,MAAM,iBAAiB;AAE3C,OAAO,MAAMC,YAAY,GAAG,CAAC;AAE7B,OAAO,MAAMC,UAAU,GAAG,MAAyB;EACjD,IAAI,OAAOC,MAAM,CAACC,YAAY,KAAK,WAAW,EAAE;IAC9C,OAAOJ,aAAa;EACtB;EACA,IAAI;IACF,MAAMK,IAAI,GAAGD,YAAY,CAACE,OAAO,CAAC,aAAa,CAAC;IAChD,MAAMC,GAAsB,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;IAC/C,MAAMK,GAAG,GAAGH,GAAG,CAACI,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,OAAO,KAAKZ,YAAY,CAAC;IACzD,IAAIS,GAAG,CAACI,MAAM,KAAK,CAAC,EAAE;MACpB,OAAOd,aAAa;IACtB,CAAC,MAAM;MACL,OAAOU,GAAG;IACZ;EACF,CAAC,CAAC,OAAOK,CAAC,EAAE;IACV,OAAOf,aAAa;EACtB;AACF,CAAC;AAED,OAAO,MAAMgB,UAAU,GAAIC,MAAyB,IAAK;EACvD,IAAI,OAAOd,MAAM,CAACC,YAAY,KAAK,WAAW,EAAE;EAChDA,YAAY,CAACc,OAAO,CAAC,aAAa,EAAEV,IAAI,CAACW,SAAS,CAACF,MAAM,CAAC,CAAC;AAC7D,CAAC"},"metadata":{},"sourceType":"module"}