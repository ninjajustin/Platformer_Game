{"ast":null,"code":"import { ANodeView } from \"../../scene\";\nimport { AGraphicGroup } from \"../../rendering\";\nexport class AParticleSystemView extends ANodeView {\n  constructor() {\n    super(...arguments);\n    this.particleGroup = void 0;\n    this._particlesElement = void 0;\n  }\n  get particlesElement() {\n    return this._particlesElement;\n  }\n  get model() {\n    return this._model;\n  }\n  init() {\n    this.particleGroup = new AGraphicGroup();\n    this.addGraphic(this.particleGroup);\n    this._particlesElement = this.createParticlesElement();\n    this.particleGroup.add(this.particlesElement);\n  }\n  setModelListeners() {\n    super.setModelListeners();\n    this.addParticleSubscriptions();\n  }\n  addParticleSubscriptions() {\n    this.subscribe(this.model.addParticlesListener(() => {\n      this.update();\n    }));\n  }\n\n  // update(...args:any[]) {\n  //     for(let p=0;p<this.model.particles.length;p++){\n  //         this.particlesElement.setParticle(p, this.model.particles[p]);\n  //     }\n  //     this.particlesElement.setNeedsUpdate();\n  // }\n}","map":{"version":3,"names":["ANodeView","AGraphicGroup","AParticleSystemView","particleGroup","_particlesElement","particlesElement","model","_model","init","addGraphic","createParticlesElement","add","setModelListeners","addParticleSubscriptions","subscribe","addParticlesListener","update"],"sources":["/Users/home/Desktop/College/Fall 2022/CS_4620/cs4620-final-project/src/anigraph/effects/particles/AParticleSystemView.ts"],"sourcesContent":["import {Particle3D} from \"../../physics/AParticle3D\";\nimport {ANodeView} from \"../../scene\";\nimport {AGraphicGroup, AInstancedGraphic} from \"../../rendering\";\nimport {AParticleSystemModel} from \"./AParticleSystemModel\";\nimport {Color, Mat4} from \"../../math\";\nimport {AInstancedParticleSystemGraphic} from \"./InstancedParticles\";\n\nexport abstract class AParticleSystemView<P extends Particle3D> extends ANodeView{\n\n    abstract createParticlesElement(...args:any[]):AInstancedParticleSystemGraphic<P>;\n\n    particleGroup!:AGraphicGroup;\n    _particlesElement!:AInstancedParticleSystemGraphic<P>;\n    get particlesElement(){\n        return this._particlesElement;\n    }\n\n    get model():AParticleSystemModel<P>{\n        return this._model as AParticleSystemModel<P>;\n    }\n\n\n\n    init() {\n        this.particleGroup = new AGraphicGroup();\n        this.addGraphic(this.particleGroup);\n        this._particlesElement = this.createParticlesElement();\n        this.particleGroup.add(this.particlesElement);\n    }\n\n    setModelListeners() {\n        super.setModelListeners();\n        this.addParticleSubscriptions();\n    }\n\n    addParticleSubscriptions(){\n        this.subscribe(this.model.addParticlesListener(()=>{\n            this.update();\n        }))\n    }\n\n    // update(...args:any[]) {\n    //     for(let p=0;p<this.model.particles.length;p++){\n    //         this.particlesElement.setParticle(p, this.model.particles[p]);\n    //     }\n    //     this.particlesElement.setNeedsUpdate();\n    // }\n}\n\n\n\n"],"mappings":"AACA,SAAQA,SAAS,QAAO,aAAa;AACrC,SAAQC,aAAa,QAA0B,iBAAiB;AAKhE,OAAO,MAAeC,mBAAmB,SAA+BF,SAAS;EAAA;IAAA;IAAA,KAI7EG,aAAa;IAAA,KACbC,iBAAiB;EAAA;EACjB,IAAIC,gBAAgB,GAAE;IAClB,OAAO,IAAI,CAACD,iBAAiB;EACjC;EAEA,IAAIE,KAAK,GAA0B;IAC/B,OAAO,IAAI,CAACC,MAAM;EACtB;EAIAC,IAAI,GAAG;IACH,IAAI,CAACL,aAAa,GAAG,IAAIF,aAAa,EAAE;IACxC,IAAI,CAACQ,UAAU,CAAC,IAAI,CAACN,aAAa,CAAC;IACnC,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAACM,sBAAsB,EAAE;IACtD,IAAI,CAACP,aAAa,CAACQ,GAAG,CAAC,IAAI,CAACN,gBAAgB,CAAC;EACjD;EAEAO,iBAAiB,GAAG;IAChB,KAAK,CAACA,iBAAiB,EAAE;IACzB,IAAI,CAACC,wBAAwB,EAAE;EACnC;EAEAA,wBAAwB,GAAE;IACtB,IAAI,CAACC,SAAS,CAAC,IAAI,CAACR,KAAK,CAACS,oBAAoB,CAAC,MAAI;MAC/C,IAAI,CAACC,MAAM,EAAE;IACjB,CAAC,CAAC,CAAC;EACP;;EAEA;EACA;EACA;EACA;EACA;EACA;AACJ"},"metadata":{},"sourceType":"module"}