{"ast":null,"code":"var _dec, _class;\nimport { ASerializable } from \"../../base\";\nimport { ANodeModel3D } from \"../../scene\";\nvar ParticleEvents;\n(function (ParticleEvents) {\n  ParticleEvents[\"PARTICLES_UPDATED\"] = \"PARTICLES_UPDATED\";\n})(ParticleEvents || (ParticleEvents = {}));\nexport let AParticleSystemModel = (_dec = ASerializable(\"AParticleSystemModel\"), _dec(_class = class AParticleSystemModel extends ANodeModel3D {\n  constructor() {\n    super(...arguments);\n    this.particles = [];\n  }\n  get nParticles() {\n    return this.particles.length;\n  }\n\n  /**\n   *\n   * @param callback\n   * @param handle\n   * @param synchronous\n   * @returns {AStateCallbackSwitch}\n   */\n  addParticlesListener(callback, handle) {\n    let synchronous = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    return this.addEventListener(ParticleEvents.PARTICLES_UPDATED, callback, handle);\n  }\n  signalParticlesUpdated() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    this.signalEvent(ParticleEvents.PARTICLES_UPDATED, ...args);\n  }\n  addParticle(particle) {\n    this.particles.push(particle);\n  }\n\n  // timeUpdate(t: number, ...args:any[]) {\n  //     super.timeUpdate(t, ...args);\n  //     this.signalParticlesUpdated();\n  // }\n}) || _class);","map":{"version":3,"names":["ASerializable","ANodeModel3D","ParticleEvents","AParticleSystemModel","particles","nParticles","length","addParticlesListener","callback","handle","synchronous","addEventListener","PARTICLES_UPDATED","signalParticlesUpdated","args","signalEvent","addParticle","particle","push"],"sources":["/Users/home/Desktop/College/Fall 2022/CS_4620/cs4620-final-project/src/anigraph/effects/particles/AParticleSystemModel.ts"],"sourcesContent":["import {AObject, ASerializable} from \"../../base\";\nimport {Particle3D} from \"../../physics/AParticle3D\";\nimport {ANodeModel3D} from \"../../scene\";\n\nenum ParticleEvents{\n    PARTICLES_UPDATED=\"PARTICLES_UPDATED\"\n}\n\n@ASerializable(\"AParticleSystemModel\")\nexport class AParticleSystemModel<P extends Particle3D> extends ANodeModel3D{\n    particles:P[]=[];\n    get nParticles(){\n        return this.particles.length;\n    }\n\n    /**\n     *\n     * @param callback\n     * @param handle\n     * @param synchronous\n     * @returns {AStateCallbackSwitch}\n     */\n    addParticlesListener(callback:(self:AObject)=>void, handle?:string, synchronous:boolean=true,){\n        return this.addEventListener(ParticleEvents.PARTICLES_UPDATED,callback, handle);\n    }\n\n    signalParticlesUpdated(...args:any[]){\n        this.signalEvent(ParticleEvents.PARTICLES_UPDATED, ...args);\n    }\n\n\n    addParticle(particle:P){\n        this.particles.push(particle);\n    }\n\n    // timeUpdate(t: number, ...args:any[]) {\n    //     super.timeUpdate(t, ...args);\n    //     this.signalParticlesUpdated();\n    // }\n\n}\n"],"mappings":";AAAA,SAAiBA,aAAa,QAAO,YAAY;AAEjD,SAAQC,YAAY,QAAO,aAAa;AAAC,IAEpCC,cAAc;AAAA,WAAdA,cAAc;EAAdA,cAAc;AAAA,GAAdA,cAAc,KAAdA,cAAc;AAInB,WACaC,oBAAoB,WADhCH,aAAa,CAAC,sBAAsB,CAAC,gBAAtC,MACaG,oBAAoB,SAA+BF,YAAY;EAAA;IAAA;IAAA,KACxEG,SAAS,GAAK,EAAE;EAAA;EAChB,IAAIC,UAAU,GAAE;IACZ,OAAO,IAAI,CAACD,SAAS,CAACE,MAAM;EAChC;;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,oBAAoB,CAACC,QAA6B,EAAEC,MAAc,EAA4B;IAAA,IAA1BC,WAAmB,uEAAC,IAAI;IACxF,OAAO,IAAI,CAACC,gBAAgB,CAACT,cAAc,CAACU,iBAAiB,EAACJ,QAAQ,EAAEC,MAAM,CAAC;EACnF;EAEAI,sBAAsB,GAAe;IAAA,kCAAXC,IAAI;MAAJA,IAAI;IAAA;IAC1B,IAAI,CAACC,WAAW,CAACb,cAAc,CAACU,iBAAiB,EAAE,GAAGE,IAAI,CAAC;EAC/D;EAGAE,WAAW,CAACC,QAAU,EAAC;IACnB,IAAI,CAACb,SAAS,CAACc,IAAI,CAACD,QAAQ,CAAC;EACjC;;EAEA;EACA;EACA;EACA;AAEJ,CAAC"},"metadata":{},"sourceType":"module"}