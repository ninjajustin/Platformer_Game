{"ast":null,"code":"import { AParticle3D } from \"../../../../anigraph/physics/AParticle3D\";\nimport { Color, V3, Quaternion } from \"../../../../anigraph\";\n\n/**\n * A particle subclass for you to customize\n */\nexport class BillboardParticle extends AParticle3D {\n  //lifeDuration:number = .5;\n\n  constructor(position, velocity, mass, size, color) {\n    super(position, velocity, mass, size);\n    this.color = void 0;\n    this.timeSinceEmitted = void 0;\n    this.right = void 0;\n    this.sinOffset = void 0;\n    this.initialUpSpeed = void 0;\n    this.initialSize = 1;\n    this.color = color !== null && color !== void 0 ? color : Color.FromString(\"#00ff00\");\n    this.right = V3(1, 0, 0);\n  }\n  update(t, timePassed) {\n    this.timeSinceEmitted += timePassed;\n    this.right = this.right.getRotatedByQuaternion(Quaternion.RotationY((Math.random() - .5) * 10 * timePassed));\n    let sineRotation = Quaternion.FromRotationBetweenTwoVectors(V3(1, 0, 0), this.right);\n    this.velocity = V3(-Math.sin(4 * t + this.sinOffset), this.initialUpSpeed + (3 * this.timeSinceEmitted) ** 2, 0).getRotatedByQuaternion(sineRotation);\n    this.size = Math.max(.05, this.initialSize - (1.8 * this.timeSinceEmitted) ** 2);\n    this.color = this.color.Spun(-.007);\n    this.color = this.color.Darken(.1);\n  }\n}","map":{"version":3,"names":["AParticle3D","Color","V3","Quaternion","BillboardParticle","constructor","position","velocity","mass","size","color","timeSinceEmitted","right","sinOffset","initialUpSpeed","initialSize","FromString","update","t","timePassed","getRotatedByQuaternion","RotationY","Math","random","sineRotation","FromRotationBetweenTwoVectors","sin","max","Spun","Darken"],"sources":["/Users/home/Desktop/cs4620-final-project/src/app/main/Nodes/BillboardParticleSystem/BillboardParticle.ts"],"sourcesContent":["import {AParticle3D} from \"../../../../anigraph/physics/AParticle3D\";\nimport {Color, V3, Vec3, Quaternion} from \"../../../../anigraph\";\n\n\n/**\n * A particle subclass for you to customize\n */\nexport class BillboardParticle extends AParticle3D{\n    color!:Color;\n    timeSinceEmitted!:number;\n    //lifeDuration:number = .5;\n    right!:Vec3;\n    sinOffset!:number;\n    initialUpSpeed!:number;\n    initialSize:number = 1;\n\n    constructor(position?:Vec3, velocity?:Vec3, mass?:number, size?:number, color?:Color) {\n        super(position, velocity, mass, size);\n        this.color=color??Color.FromString(\"#00ff00\");\n        this.right=V3(1,0,0);\n    }\n\n    update(t:number, timePassed:number){\n        this.timeSinceEmitted += timePassed;\n        this.right = this.right.getRotatedByQuaternion(Quaternion.RotationY((Math.random() - .5) * 10 * timePassed));\n\n        let sineRotation = Quaternion.FromRotationBetweenTwoVectors(V3(1,0,0), this.right);\n        this.velocity = V3(-Math.sin(4 * t + this.sinOffset), this.initialUpSpeed + (3*this.timeSinceEmitted)**2, 0).getRotatedByQuaternion(sineRotation);\n        this.size = Math.max(.05, this.initialSize - (1.8*this.timeSinceEmitted)**2)\n        this.color = this.color.Spun(-.007);\n        this.color = this.color.Darken(.1);\n    }\n}\n"],"mappings":"AAAA,SAAQA,WAAW,QAAO,0CAA0C;AACpE,SAAQC,KAAK,EAAEC,EAAE,EAAQC,UAAU,QAAO,sBAAsB;;AAGhE;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,SAASJ,WAAW;EAG9C;;EAMAK,WAAW,CAACC,QAAc,EAAEC,QAAc,EAAEC,IAAY,EAAEC,IAAY,EAAEC,KAAY,EAAE;IAClF,KAAK,CAACJ,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,EAAEC,IAAI,CAAC;IAAC,KAT1CC,KAAK;IAAA,KACLC,gBAAgB;IAAA,KAEhBC,KAAK;IAAA,KACLC,SAAS;IAAA,KACTC,cAAc;IAAA,KACdC,WAAW,GAAU,CAAC;IAIlB,IAAI,CAACL,KAAK,GAACA,KAAK,aAALA,KAAK,cAALA,KAAK,GAAET,KAAK,CAACe,UAAU,CAAC,SAAS,CAAC;IAC7C,IAAI,CAACJ,KAAK,GAACV,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC;EACxB;EAEAe,MAAM,CAACC,CAAQ,EAAEC,UAAiB,EAAC;IAC/B,IAAI,CAACR,gBAAgB,IAAIQ,UAAU;IACnC,IAAI,CAACP,KAAK,GAAG,IAAI,CAACA,KAAK,CAACQ,sBAAsB,CAACjB,UAAU,CAACkB,SAAS,CAAC,CAACC,IAAI,CAACC,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,GAAGJ,UAAU,CAAC,CAAC;IAE5G,IAAIK,YAAY,GAAGrB,UAAU,CAACsB,6BAA6B,CAACvB,EAAE,CAAC,CAAC,EAAC,CAAC,EAAC,CAAC,CAAC,EAAE,IAAI,CAACU,KAAK,CAAC;IAClF,IAAI,CAACL,QAAQ,GAAGL,EAAE,CAAC,CAACoB,IAAI,CAACI,GAAG,CAAC,CAAC,GAAGR,CAAC,GAAG,IAAI,CAACL,SAAS,CAAC,EAAE,IAAI,CAACC,cAAc,GAAG,CAAC,CAAC,GAAC,IAAI,CAACH,gBAAgB,KAAG,CAAC,EAAE,CAAC,CAAC,CAACS,sBAAsB,CAACI,YAAY,CAAC;IACjJ,IAAI,CAACf,IAAI,GAAGa,IAAI,CAACK,GAAG,CAAC,GAAG,EAAE,IAAI,CAACZ,WAAW,GAAG,CAAC,GAAG,GAAC,IAAI,CAACJ,gBAAgB,KAAG,CAAC,CAAC;IAC5E,IAAI,CAACD,KAAK,GAAG,IAAI,CAACA,KAAK,CAACkB,IAAI,CAAC,CAAC,IAAI,CAAC;IACnC,IAAI,CAAClB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACmB,MAAM,CAAC,EAAE,CAAC;EACtC;AACJ"},"metadata":{},"sourceType":"module"}